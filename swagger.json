{
    "swagger": "2.0",
    "info": {
        "version": "1.0",
        "title": "Personal web",
        "description": "My portfolio",
        "contact": {
            "email": "el.ally741@gmail.com"
        },
        "license": {
            "name": "ISC",
            "url": "https://github.com/Ally4/backend-portfolio.git"
        }
    },
    "host": "localhost:4000/",
    "basePath": "/",
    "schemes": ["HTTPS", "HTTP"],
    "consumes": ["application/json"],
    "produces": ["application/json"],
    "paths": {
        "/auth/login": {
            "post": {
                "tags": ["Owner"],
                "summary": "Owner login endpoint",
                "description": "Owner can login",
                "parameters": [{
                    "in": "body",
                    "name": "body",
                    "description": "The information for the owner to login",
                    "authorization": "string",
                    "required": true,
                    "schema": {
                        "$ref": "#/definitions/Owner"
                    }
                }],
                "responses": {
                    "200": {
                        "description": "successfully Login"
                    },
                    "400": {
                        "description": "email is required"
                    },
                    "400": {
                        "description": "password is required"
                    },
                    "400": {
                        "description": "email must be a valid email"
                    },
                    "400": {
                        "description": "password length must be at least 6 characters long"
                    },
                    "400": {
                        "description": "There is a bad credential"
                    },
                    "400": {
                        "description": "Bad request,Invalid input"
                    }
                }
            }
        },

        "/posts": {
            "post": {
                "tags": ["Blog"],
                "summary": "Create",
                "description": "Create a blog",
                "operationId": "create",
                "parameters": [{
                    "in": "body",
                    "name": "body",
                    "description": "The information for creating a blog",
                    "required": true,
                    "schema": {
                        "$ref": "#/definitions/Owner"
                    }
                }],
                "responses": {
                    "200": {
                        "description": "User successfully created"
                    },
                    "400": {
                        "description": "Bad request,Invalid input"
                    }
                }
            }
        },











        "/posts/": {
            "post": {
                "tags": ["Admin"],
                "summary": "Admin create a blog post API",
                "description": "create a blog post",
                "operationId": "create blog post",
                "parameters": [{
                        "name": "x-auth-token",
                        "in": "header",
                        "required": true,
                        "type": "string",
                        "description": "Admin Token"
                    },
                    {
                        "in": "body",
                        "name": "body",
                        "description": "Admin object that needed to create a blog Post",
                        "type": "object",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/createBlog"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "blog post created successfully"
                    },
                    "401": {
                        "description": "you require an admin token to perform this request"
                    },
                    "403": {
                        "description": "token invalid or expired"
                    },
                    "400": {
                        "description": "Bad request, Invalid input"
                    }
                }
            },

            "get": {
                "tags": ["Users"],
                "summary": "Users can view all blog post API",
                "description": "view all blog post",
                "operationId": "view all blogs",
                "responses": {
                    "200": {
                        "description": "blog post successfully found"
                    }
                }
            }
        },

        "/posts/{id}": {
            "get": {
                "tags": ["Users"],
                "summary": "Users can view a specific blog post API",
                "description": "view a specific blog post",
                "operationId": "view specific blog",
                "parameters": [{
                    "in": "path",
                    "name": "id",
                    "required": true
                }],
                "responses": {
                    "200": {
                        "description": "blog post successfully found"
                    },
                    "404": {
                        "description": "blog Post not found"
                    }
                }
            },

            "patch": {
                "tags": ["Admin"],
                "summary": "Admin edit a blog post API",
                "description": "edit a blog post",
                "operationId": "edit blog post",
                "parameters": [{
                        "name": "x-auth-token",
                        "in": "header",
                        "required": true,
                        "type": "string",
                        "description": "Admin Token"
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "required": true
                    },
                    {
                        "in": "body",
                        "name": "body",
                        "description": "Admin object that needed to edit a specific blog Post",
                        "type": "object",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/editBlog"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "blog post edited successfully"
                    },
                    "401": {
                        "description": "you require an admin token to perform this request"
                    },
                    "403": {
                        "description": "token invalid or expired"
                    },
                    "400": {
                        "description": "Bad request or invalid input field"
                    },
                    "404": {
                        "description": "blog post not found"
                    }
                }
            },

            "delete": {
                "tags": ["Admin"],
                "summary": "Admin delete a blog post API",
                "description": "delete a blog post",
                "operationId": "delete blog post",
                "parameters": [{
                        "name": "x-auth-token",
                        "in": "header",
                        "required": true,
                        "type": "string",
                        "description": "Admin Token"
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "required": true
                    }
                ],
                "responses": {
                    "204": {
                        "description": "blog post deleted successfully"
                    },
                    "401": {
                        "description": "you require an admin token to perform this request"
                    },
                    "403": {
                        "description": "token invalid or expired"
                    },
                    "404": {
                        "description": "blog post not found"
                    }
                }
            }
        },

        "/queries/": {
            "post": {
                "tags": ["Users"],
                "summary": "Users create a query API",
                "description": "create a query",
                "operationId": "create query",
                "parameters": [{
                    "in": "body",
                    "name": "body",
                    "description": "user object that needed to create a query",
                    "type": "object",
                    "required": true,
                    "schema": {
                        "$ref": "#/definitions/createQuery"
                    }
                }],
                "responses": {
                    "200": {
                        "description": "query created successfully"
                    },
                    "400": {
                        "description": "Bad request or invalid input field"
                    }
                }
            },
            "get": {
                "tags": ["Admin"],
                "summary": "Admin can view all queries API",
                "description": "view all queries API",
                "operationId": "view all query",
                "parameters": [{
                    "name": "x-auth-token",
                    "in": "header",
                    "required": true,
                    "type": "string",
                    "description": "Admin Token"
                }],
                "responses": {
                    "200": {
                        "description": "queries successfully found"
                    },
                    "401": {
                        "description": "you require an admin token to perform this request"
                    },
                    "403": {
                        "description": "token invalid or expired"
                    }
                }
            }
        },

        "/queries/{id}": {
            "get": {
                "tags": ["Admin"],
                "summary": "Admin can view a specific query API",
                "description": "view a specific query",
                "operationId": "view a specific query",
                "parameters": [{
                    "in": "path",
                    "name": "id",
                    "required": true
                }, {
                    "name": "x-auth-token",
                    "in": "header",
                    "required": true,
                    "type": "string",
                    "description": "Admin Token"
                }],
                "responses": {
                    "200": {
                        "description": "query successfully found"
                    },
                    "401": {
                        "description": "you require an admin token to perform this request"
                    },
                    "403": {
                        "description": "token invalid or expired"
                    },
                    "404": {
                        "description": "query not found"
                    }
                }
            },
            "delete": {
                "tags": ["Admin"],
                "summary": "Admin delete a Query API",
                "description": "delete a Query",
                "operationId": "delete query",
                "parameters": [{
                        "name": "x-auth-token",
                        "in": "header",
                        "required": true,
                        "type": "string",
                        "description": "Admin Token"
                    },
                    {
                        "in": "path",
                        "name": "id",
                        "required": true
                    }
                ],
                "responses": {
                    "204": {
                        "description": "query deleted successfully"
                    },
                    "401": {
                        "description": "you require an admin token to perform this request"
                    },
                    "403": {
                        "description": "token invalid or expired"
                    },
                    "404": {
                        "description": "query not found"
                    }
                }
            }
        },

        "/posts/comment/{id}": {
            "post": {
                "tags": ["Users"],
                "summary": "users comment on a blog post API",
                "description": "comment on a blog post",
                "operationId": "comment",
                "parameters": [{
                    "in": "path",
                    "name": "id",
                    "required": true
                }, {
                    "in": "body",
                    "name": "body",
                    "description": "user object that needed to comment",
                    "type": "object",
                    "required": true,
                    "schema": {
                        "$ref": "#/definitions/addComment"
                    }
                }],
                "responses": {
                    "200": {
                        "description": "comment posted successfully"
                    },
                    "400": {
                        "description": "Bad request or invalid input field"
                    },
                    "404": {
                        "description": "blog post not found"
                    }
                }
            }
        },

        "/posts/like/{id}": {
            "post": {
                "tags": ["Users"],
                "summary": "users comment on a blog post API",
                "description": "comment on a blog post",
                "operationId": "like",
                "parameters": [{
                    "in": "path",
                    "name": "id",
                    "required": true
                }],
                "responses": {
                    "200": {
                        "description": "blog post liked successfully"
                    },
                    "400": {
                        "description": "Bad request or invalid input field"
                    },
                    "404": {
                        "description": "blog post not found"
                    }
                }
            }
        }
    },

    "definitions": {
        "Owner": {
            "type": "object",
            "properties": {
                "email": {
                    "type": "string",
                    "required": true
                },
                "password": {
                    "type": "string",
                    "required": true
                }
            }
        },
        "createBlog": {
            "type": "object",
            "properties": {
                "title": {
                    "type": "string",
                    "required": true
                },
                "content": {
                    "type": "string",
                    "required": true
                },
                "imgLink": {
                    "type": "string",
                    "required": true
                }
            }
        },
        "editBlog": {
            "type": "object",
            "properties": {
                "title": {
                    "type": "string",
                    "required": true
                },
                "content": {
                    "type": "string",
                    "required": true
                },
                "imgLink": {
                    "type": "string",
                    "required": true
                }
            }
        },
        "createQuery": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string",
                    "required": true
                },
                "email": {
                    "type": "string",
                    "required": true
                },
                "query": {
                    "type": "string",
                    "required": true
                }
            }
        },
        "addComment": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string",
                    "required": true
                },
                "comment": {
                    "type": "string",
                    "required": true
                }
            }
        }

    }
}